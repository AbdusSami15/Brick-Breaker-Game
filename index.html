<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover" />
  <title>Breakout - Week 2</title>
  <style>
    /* Full-screen: background matches game so letterboxing is invisible */
    html, body {
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #0a0e17 0%, #111827 50%, #0d1320 100%);
      width: 100%;
      height: 100%;
      overflow: hidden;
      -webkit-text-size-adjust: 100%;
    }
    #wrap {
      position: fixed;
      inset: 0;
      overflow: hidden;
      background: inherit;
    }

    /* Canvas is styled dynamically by JS based on game state */
    canvas {
      display: block;
      background: #111827;
      touch-action: none;
      transition: border-radius 0.3s ease, box-shadow 0.3s ease;
    }
    #pauseBtn {
      pointer-events: auto;
      padding: 6px 14px;
      border-radius: 6px;
      border: 0;
      background: rgba(255,255,255,0.15);
      color: #e5e7eb;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      backdrop-filter: blur(4px);
      transition: background 0.2s;
    }
    #pauseBtn:hover {
      background: rgba(255,255,255,0.25);
    }
    #pauseBtn:active { transform: translateY(1px); }
    @media (max-width: 600px) {
      #pauseBtn {
        font-size: 12px;
        padding: 5px 10px;
      }
    }
    #pauseOverlay {
      position: fixed; inset: 0;
      display: none;
      place-items: center;
      pointer-events: none;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      color: white;
      background: rgba(0,0,0,0.35);
      z-index: 20;
    }
    #pauseOverlay .panel {
      pointer-events: auto;
      background: rgba(17,24,39,0.82);
      border: 1px solid rgba(255,255,255,0.08);
      backdrop-filter: blur(10px);
    }
    #pauseOverlay .row {
      display: grid;
      grid-template-columns: 1fr;
      gap: 10px;
      margin-top: 12px;
    }
    #pauseOverlay .secondary {
      background: rgba(255,255,255,0.14);
      color: #e5e7eb;
      font-weight: 700;
    }
    #pauseOverlay .danger {
      background: #ef4444;
      color: #0b0b10;
      font-weight: 800;
    }

    /* ========== COVER PAGE ========== */
    #coverPage {
      position: fixed;
      inset: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 100;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      color: white;
      text-align: center;
      padding: 20px;
      background: linear-gradient(135deg, #0a0e17 0%, #111827 50%, #0d1320 100%);
      overflow: hidden;
    }
    
    /* Animated background elements */
    #coverPage::before {
      content: '';
      position: absolute;
      inset: 0;
      background: 
        radial-gradient(circle at 20% 30%, rgba(34, 197, 94, 0.15) 0%, transparent 40%),
        radial-gradient(circle at 80% 70%, rgba(59, 130, 246, 0.15) 0%, transparent 40%),
        radial-gradient(circle at 50% 50%, rgba(168, 85, 247, 0.1) 0%, transparent 50%);
      animation: coverPulse 8s ease-in-out infinite;
    }
    @keyframes coverPulse {
      0%, 100% { opacity: 0.6; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.1); }
    }
    
    /* Floating bricks decoration */
    .floatingBrick {
      position: absolute;
      border-radius: 4px;
      opacity: 0.3;
      animation: floatBrick 6s ease-in-out infinite;
    }
    @keyframes floatBrick {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(5deg); }
    }
    
    #coverPage .logo {
      position: relative;
      z-index: 1;
      margin-bottom: 20px;
    }
    
    #coverPage .logo h1 {
      font-size: clamp(48px, 12vw, 72px);
      font-weight: 900;
      margin: 0;
      background: linear-gradient(135deg, #22c55e 0%, #3b82f6 50%, #a855f7 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-shadow: 0 0 60px rgba(34, 197, 94, 0.5);
      letter-spacing: -2px;
    }
    
    #coverPage .logo .subtitle {
      font-size: clamp(14px, 3vw, 18px);
      opacity: 0.7;
      margin-top: 8px;
      letter-spacing: 4px;
      text-transform: uppercase;
    }
    
    #coverPage .gamePreview {
      position: relative;
      z-index: 1;
      width: min(300px, 80vw);
      height: 60px;
      margin: 30px 0;
      display: flex;
      flex-wrap: wrap;
      gap: 4px;
      justify-content: center;
      align-items: center;
    }
    
    #coverPage .previewBrick {
      width: 28px;
      height: 12px;
      border-radius: 3px;
      animation: brickGlow 2s ease-in-out infinite;
    }
    @keyframes brickGlow {
      0%, 100% { filter: brightness(1); }
      50% { filter: brightness(1.3); }
    }
    
    #coverPage .startBtn {
      position: relative;
      z-index: 1;
      padding: 18px 60px;
      font-size: clamp(18px, 5vw, 24px);
      font-weight: 800;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
      color: #0a0e17;
      box-shadow: 
        0 4px 20px rgba(34, 197, 94, 0.4),
        0 0 40px rgba(34, 197, 94, 0.2),
        inset 0 2px 0 rgba(255,255,255,0.2);
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 2px;
    }
    #coverPage .startBtn:hover {
      transform: translateY(-2px) scale(1.02);
      box-shadow: 
        0 8px 30px rgba(34, 197, 94, 0.5),
        0 0 60px rgba(34, 197, 94, 0.3),
        inset 0 2px 0 rgba(255,255,255,0.2);
    }
    #coverPage .startBtn:active {
      transform: translateY(1px) scale(0.98);
    }
    
    #coverPage .hint {
      position: relative;
      z-index: 1;
      margin-top: 30px;
      font-size: 14px;
      opacity: 0.6;
    }
    #coverPage .hint .icon {
      display: inline-block;
      animation: tapPulse 1.5s ease-in-out infinite;
    }
    @keyframes tapPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.2); }
    }
    
    /* Ball animation on cover */
    #coverPage .ballAnim {
      position: absolute;
      width: 20px;
      height: 20px;
      background: radial-gradient(circle at 30% 30%, #fff 0%, #e5e7eb 50%, #9ca3af 100%);
      border-radius: 50%;
      box-shadow: 0 0 20px rgba(255,255,255,0.5);
      animation: ballBounce 3s ease-in-out infinite;
    }
    @keyframes ballBounce {
      0%, 100% { transform: translate(0, 0); }
      25% { transform: translate(100px, -50px); }
      50% { transform: translate(200px, 0); }
      75% { transform: translate(100px, 50px); }
    }

    /* ========== IN-GAME UI OVERLAY ========== */
    #uiOverlay {
      position: fixed; inset: 0;
      display: none;
      place-items: center;
      pointer-events: none;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      color: white;
      z-index: 50;
    }
    .panel {
      pointer-events: auto;
      background: rgba(0,0,0,0.6);
      padding: 18px 20px;
      border-radius: 12px;
      text-align: center;
      width: min(360px, 90vw);
      box-shadow: 0 8px 30px rgba(0,0,0,0.4);
    }
    .panel h1 { margin: 0 0 8px; font-size: 22px; }
    .panel p { margin: 0 0 14px; opacity: 0.9; line-height: 1.4; }
    .panel button {
      width: 100%;
      padding: 12px 14px;
      border: 0;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 700;
      background: #22c55e;
      color: #0b0b10;
    }
    .panel button:active { transform: translateY(1px); }

    /* ========== GAME HUD (HTML overlay - stays crisp!) ========== */
    #gameHud {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      display: none;
      justify-content: space-between;
      align-items: center;
      padding: 12px 16px;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      font-size: 14px;
      font-weight: 600;
      color: rgba(255, 255, 255, 0.95);
      pointer-events: none;
      z-index: 15;
      background: linear-gradient(180deg, rgba(0,0,0,0.4) 0%, transparent 100%);
      text-shadow: 0 1px 3px rgba(0,0,0,0.5);
    }
    #gameHud.visible {
      display: flex;
    }
    #gameHud .hud-left {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }
    #gameHud .hud-right {
      display: flex;
      gap: 16px;
      align-items: center;
    }
    #gameHud .hud-item {
      display: flex;
      align-items: center;
      gap: 6px;
    }
    #gameHud .hud-label {
      opacity: 0.7;
      font-weight: 500;
    }
    #gameHud .hud-value {
      font-weight: 700;
      min-width: 30px;
    }
    #gameHud .hud-value.score {
      color: #fbbf24;
    }
    #gameHud .hud-value.lives {
      color: #ef4444;
    }
    #gameHud .hud-value.level {
      color: #22c55e;
    }
    #gameHud .hud-value.high {
      color: #a78bfa;
    }
    @media (max-width: 600px) {
      #gameHud {
        font-size: 12px;
        padding: 8px 12px;
      }
      #gameHud .hud-left {
        gap: 12px;
      }
    }
  </style>
</head>
<body>
  <!-- Cover Page (shown on start) -->
  <div id="coverPage">
    <!-- Floating decorative bricks -->
    <div class="floatingBrick" style="top: 10%; left: 10%; width: 50px; height: 20px; background: #ef4444; animation-delay: 0s;"></div>
    <div class="floatingBrick" style="top: 20%; right: 15%; width: 40px; height: 16px; background: #f59e0b; animation-delay: 1s;"></div>
    <div class="floatingBrick" style="bottom: 25%; left: 20%; width: 45px; height: 18px; background: #22c55e; animation-delay: 2s;"></div>
    <div class="floatingBrick" style="bottom: 15%; right: 10%; width: 55px; height: 22px; background: #3b82f6; animation-delay: 0.5s;"></div>
    <div class="floatingBrick" style="top: 40%; left: 5%; width: 35px; height: 14px; background: #a855f7; animation-delay: 1.5s;"></div>
    <div class="floatingBrick" style="top: 35%; right: 8%; width: 42px; height: 17px; background: #ec4899; animation-delay: 2.5s;"></div>
    
    <!-- Bouncing ball decoration -->
    <div class="ballAnim" style="top: 30%; left: 20%;"></div>
    
    <div class="logo">
      <h1>BREAKOUT</h1>
      <div class="subtitle">Classic Arcade Game</div>
    </div>
    
    <!-- Preview bricks -->
    <div class="gamePreview">
      <div class="previewBrick" style="background: #ef4444; animation-delay: 0.0s;"></div>
      <div class="previewBrick" style="background: #f59e0b; animation-delay: 0.1s;"></div>
      <div class="previewBrick" style="background: #eab308; animation-delay: 0.2s;"></div>
      <div class="previewBrick" style="background: #22c55e; animation-delay: 0.3s;"></div>
      <div class="previewBrick" style="background: #14b8a6; animation-delay: 0.4s;"></div>
      <div class="previewBrick" style="background: #3b82f6; animation-delay: 0.5s;"></div>
      <div class="previewBrick" style="background: #8b5cf6; animation-delay: 0.6s;"></div>
      <div class="previewBrick" style="background: #a855f7; animation-delay: 0.7s;"></div>
      <div class="previewBrick" style="background: #ec4899; animation-delay: 0.8s;"></div>
      <div class="previewBrick" style="background: #ef4444; animation-delay: 0.9s;"></div>
    </div>
    
    <button class="startBtn" id="coverStartBtn">â–¶ Play</button>
    
    <div class="hint">
      <span class="icon">ðŸ‘†</span> Tap to start â€¢ Move paddle to break bricks
    </div>
  </div>

  <div id="wrap">
    <canvas id="game" width="800" height="500"></canvas>
  </div>

  <!-- HTML HUD - stays crisp at any size -->
  <div id="gameHud">
    <div class="hud-left">
      <div class="hud-item">
        <span class="hud-label">Score</span>
        <span class="hud-value score" id="hudScore">0</span>
      </div>
      <div class="hud-item">
        <span class="hud-label">Lives</span>
        <span class="hud-value lives" id="hudLives">3</span>
      </div>
      <div class="hud-item">
        <span class="hud-label">Level</span>
        <span class="hud-value level" id="hudLevel">1</span>
      </div>
      <div class="hud-item">
        <span class="hud-label">Best</span>
        <span class="hud-value high" id="hudHigh">0</span>
      </div>
    </div>
    <div class="hud-right">
      <button id="pauseBtn" aria-label="Pause/Resume">Pause</button>
    </div>
  </div>

  <div id="pauseOverlay">
    <div class="panel">
      <h1>Paused</h1>
      <p>Press Esc to resume. You can also restart or quit to the start screen.</p>
      <div class="row">
        <button id="resumeBtn">Resume</button>
        <button id="restartBtn" class="secondary">Restart</button>
        <button id="quitBtn" class="danger">Quit</button>
      </div>
    </div>
  </div>

  <div id="uiOverlay">
    <div class="panel" id="panel">
      <h1 id="title">Game Over</h1>
      <p id="desc">Your score: 0</p>
      <button id="btn">Play Again</button>
    </div>
  </div>

  <script src="main.js"></script>
</body>
</html>
